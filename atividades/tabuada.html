<!DOCTYPE html>
<html lang="pt-BR">

<head>
<meta charset="UTF-8">
<title>Tabuada - EducaPlay</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial, sans-serif; background:#e0f7ea; margin:0; }
header { background:#4CAF50; color:white; padding:25px 20px; text-align:center; }
main { max-width:600px; margin:40px auto; background:white; padding:30px 25px; border-radius:15px; text-align:center; box-shadow:0 6px 18px rgba(0,0,0,0.1);}
#stars { font-size:1.8em; margin-bottom:25px; color:#2a7a2a; font-weight:bold; }
label { font-size:1.2em; display:block; margin-bottom:10px; }
input[type=number] { padding:10px; font-size:1.2em; width:100px; margin-right:10px; border:2px solid #4CAF50; border-radius:8px; text-align:center; }
.btn { background:#4CAF50; color:white; padding:12px 25px; border:none; border-radius:8px; cursor:pointer; font-size:1.1em; margin-top:15px; transition:0.3s; }
.btn:hover { background:#45a049; }
.question { margin:15px 0; font-size:1.2em; }
.question.incorrect input { border-color: #f44336; background: #ffe6e6; }
.question.correct input { border-color: #28a745; background: #e6ffe6; }
#final-message { margin-top:20px; font-size:1.3em; font-weight:bold; color:#155715; }
.botao-amarelo { background:#FFD700; padding:12px 30px; border:none; font-weight:bold; border-radius:8px; cursor:pointer; margin-top:25px; font-size:1.1em; transition:0.3s; }
.botao-amarelo:hover { background:#e6c200; }
@media(max-width:500px) { main { margin:20px 15px; padding:20px; } input[type=number] { width:80px; font-size:1em; } .btn,.botao-amarelo { padding:10px 20px; font-size:1em; } }
</style>
</head>

<body>
<header><h1>Tabuada Personalizada</h1></header>
<main>
<div id="stars">⭐ 0</div>
<label for="numero">Escolha o número da tabuada (1 a 10):</label>
<input type="number" id="numero" min="1" max="10" value="2">
<button class="btn" onclick="gerarTabuada()">Gerar</button>

<div id="quiz"></div>
<button class="btn" onclick="verificar()" style="display:none;" id="btnVerificar">Verificar Respostas</button>

<div id="final-message"></div>
<button type="button" onclick="window.location.href='../index.html'" class="botao-amarelo">Voltar ao Menu</button>
</main>

<script>
const starsEl = document.getElementById("stars");
const quizEl = document.getElementById("quiz");
const finalMessage = document.getElementById("final-message");
const btnVerificar = document.getElementById("btnVerificar");
let score = 0;

function gerarTabuada() {
    const numeroInput = document.getElementById("numero").value;
    const numero = parseInt(numeroInput);

    if (isNaN(numero) || numero < 1 || numero > 10) {
        alert("Por favor, digite um número válido entre 1 e 10!");
        return;
    }

    quizEl.innerHTML = "";
    finalMessage.textContent = "";
    score = 0;
    starsEl.textContent = "⭐ 0";

    for (let i = 1; i <= 10; i++) {
        const div = document.createElement("div");
        div.classList.add("question");
        div.id = `question${i}`;
        div.innerHTML = `${numero} x ${i} = <input type="number" id="resp${i}" placeholder="?">`;
        quizEl.appendChild(div);
    }

    btnVerificar.style.display = "inline-block";
}

function verificar() {
    const numero = parseInt(document.getElementById("numero").value);
    score = 0;
    let erros = [];

    for (let i = 1; i <= 10; i++) {
        const respInput = document.getElementById(`resp${i}`).value;
        const resp = parseInt(respInput);
        const div = document.getElementById(`question${i}`);

        // Remove classes antigas
        div.classList.remove("correct", "incorrect");

        if (resp === numero * i) {
            score++;
            div.classList.add("correct");
        } else {
            div.classList.add("incorrect");
            erros.push(`${numero} x ${i} = ${numero*i}`);
        }
    }

    starsEl.textContent = `⭐ ${score}`;
    
    if(erros.length === 0){
        finalMessage.textContent = `Parabéns! Você acertou todas!`;
    } else {
        finalMessage.innerHTML = `Você acertou ${score} de 10!<br>Erros:<br>${erros.join('<br>')}`;
    }
}
</script>
</body>
</html>
